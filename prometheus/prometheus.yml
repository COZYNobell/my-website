# ğŸ“„ íŒŒì¼ëª…: prometheus.yml
# âœ… ë²„ì „: v3 (ë¼ë²¨ë§ ì˜¤ë¥˜ ìˆ˜ì •)
# âœ… ì„¤ëª…: ê° ì„œë²„ì˜ 'server_role'ì„ ëª…í™•íˆ êµ¬ë¶„í•˜ì—¬, ëª¨ë‹ˆí„°ë§ ë°ì´í„°ì˜ ì •í™•ì„±ì„ í™•ë³´í•©ë‹ˆë‹¤.
# ğŸ•’ ë‚ ì§œ: 2025-06-25

global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']
        labels:
          server_role: 'ëª¨ë‹ˆí„°ë§ ì„œë²„'
          region: 'ì„œìš¸'

  - job_name: 'node_exporter'
    static_configs:
      # ì„œìš¸ ë¦¬ì „ ì„œë²„
      - targets: ['10.0.2.90:9100']
        labels:
          server_role: 'ì›¹ ì„œë²„'
          region: 'ì„œìš¸'
      - targets: ['10.0.2.163:9100']
        labels:
          server_role: 'ëª¨ë‹ˆí„°ë§ ì„œë²„'
          region: 'ì„œìš¸'
      # ë„ì¿„ ë¦¬ì „ ì„œë²„
      - targets: ['10.10.2.5:9100']
        labels:
          server_role: 'ì›¹ ì„œë²„'
          region: 'ë„ì¿„'
      - targets: ['10.10.2.71:9100']
        labels:
          server_role: 'ëª¨ë‹ˆí„°ë§ ì„œë²„'
          region: 'ë„ì¿„'

  - job_name: 'weather_app'
    metrics_path: /metrics
    static_configs:
      # ì„œìš¸ ë¦¬ì „ ì• í”Œë¦¬ì¼€ì´ì…˜
      - targets: ['10.0.2.90:80']
        labels:
          server_role: 'ì›¹ ì„œë²„'
          region: 'ì„œìš¸'
      # ë„ì¿„ ë¦¬ì „ ì• í”Œë¦¬ì¼€ì´ì…˜
      - targets: ['10.10.2.5:80']
        labels:
          server_role: 'ì›¹ ì„œë²„'
          region: 'ë„ì¿„'
